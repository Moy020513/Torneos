{% extends 'admin/admin_base.html' %}
{% block content %}
<h2>Partidos Jugados por Jugador</h2>
<a href="{% url 'admin_crear_participacion' %}" class="btn btn-success mb-3">Agregar Participación</a>
<a href="{% url 'admin_crear_participaciones_multiples' %}" class="btn btn-primary mb-3 ms-2">Registrar múltiples</a>
<form method="get" class="mb-3">
    <input type="text" name="search" value="{{ search }}" placeholder="Buscar jugador o equipo..." class="form-control" style="max-width:300px;display:inline-block;">
    <button type="submit" class="btn btn-primary">Buscar</button>
</form>
<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th>Jugador</th>
            <th>Partido</th>
            <!-- <th>Titular</th> -->
            <!-- <th>Minutos jugados</th> -->
            <!-- <th>Observaciones</th> -->
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for p in participaciones %}
        <tr>
            <td>{{ p.jugador }}</td>
            <td>{{ p.partido }}</td>
            <!-- <td>{% if p.titular %}Sí{% else %}No{% endif %}</td> -->
            <!-- <td>{{ p.minutos_jugados }}</td> -->
            <!-- <td>{{ p.observaciones }}</td> -->
            <td>
                <a href="{% url 'admin_editar_participacion' p.id %}" class="btn btn-sm btn-warning">Editar</a>
                <a href="{% url 'admin_eliminar_participacion' p.id %}" class="btn btn-sm btn-danger ms-1">Eliminar</a>
            </td>
        </tr>
        {% empty %}
        <tr><td colspan="6">No hay participaciones registradas.</td></tr>
        {% endfor %}
    </tbody>
</table>
<div class="pagination">
    {% if participaciones.has_previous %}
        <a href="?page={{ participaciones.previous_page_number }}&search={{ search }}">Anterior</a>
    {% endif %}
    <span>Página {{ participaciones.number }} de {{ participaciones.paginator.num_pages }}</span>
    {% if participaciones.has_next %}
        <a href="?page={{ participaciones.next_page_number }}&search={{ search }}">Siguiente</a>
    {% endif %}
</div>
{% endblock %}
