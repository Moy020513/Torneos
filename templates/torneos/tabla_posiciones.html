{% extends 'torneos/base.html' %}
{% block categoria_content %}
    <!-- Encabezado/nav heredados desde torneos/base.html -->
    <div class="card w-100 tabla-posiciones-card" style="max-width:100vw;">
        <div class="card-header">
            <h3 class="m-0 text-navy"><i class="fa-solid fa-table-list"></i> Clasificación</h3>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-striped table-bordered w-100 text-center tabla-posiciones">
                <thead>
                    <tr>
                        <th>POS</th>
                            <th>EQUIPO</th>
                        <th>PJ</th>
                        <th>PG</th>
                        <th>PE</th>
                        <th>PP</th>
                        <th>GF</th>
                        <th>GC</th>
                        <th>DG</th>
                        <th>PTS</th>
                    </tr>
                </thead>
                <tbody>
                    {% for equipo in equipos %}
                    <tr>
                        <td>{{ forloop.counter }}</td>
                        <td style="white-space:nowrap;">
                            <span style="display: flex; align-items: center; gap: 8px; height: 40px; justify-content: flex-start; text-align: left;">
                                {% if equipo.logo %}
                                    <img src="{{ equipo.logo.url }}" alt="{{ equipo.nombre }}" style="width:32px; height:32px; object-fit:contain; display: block;">
                                {% endif %}
                                <span style="display: flex; align-items: center; height: 32px; font-weight: bold;">{{ equipo.nombre }}</span>
                            </span>
                        </td>
                        <td>{{ equipo.partidos_jugados }}</td>
                        <td>{{ equipo.partidos_ganados }}</td>
                        <td>{{ equipo.partidos_empatados }}</td>
                        <td>{{ equipo.partidos_perdidos }}</td>
                        <td>{{ equipo.goles_favor }}</td>
                        <td>{{ equipo.goles_contra }}</td>
                        <td>{{ equipo.diferencia_goles }}</td>
                        <td>{{ equipo.puntos }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <!-- Simbología de la tabla -->
    <div class="mt-4 mb-2 p-3 bg-light rounded shadow-sm" style="max-width:100vw;">
    <h5 class="fw-bold mb-2 text-navy"><i class="fa-solid fa-info-circle"></i> Simbología</h5>
    <ul class="mb-0 row row-cols-3 g-2 tabla-simbolos" style="list-style:none; padding-left:0;">
            <li class="col"><strong>POS</strong>: Posición en la tabla</li>
            <li class="col"><strong>PJ</strong>: Partidos Jugados</li>
            <li class="col"><strong>PG</strong>: Partidos Ganados</li>
            <li class="col"><strong>PE</strong>: Partidos Empatados</li>
            <li class="col"><strong>PP</strong>: Partidos Perdidos</li>
            <li class="col"><strong>GF</strong>: Goles a Favor</li>
            <li class="col"><strong>GC</strong>: Goles en Contra</li>
            <li class="col"><strong>DG</strong>: Diferencia de Goles</li>
            <li class="col"><strong>PTS</strong>: Puntos Totales</li>
        </ul>
        <style>
@media (max-width: 576px) {

    /* Reducir tamaño del logo en móvil */
.tabla-posiciones td img {
    width: 28px !important;
    height: 28px !important;
    object-fit: contain !important;
}

    .tabla-posiciones-card {
        margin: 0 -12px !important;
        width: calc(100% + 24px) !important;
        max-width: calc(100% + 24px) !important;
        border-radius: 0 !important;
    }
    .tabla-posiciones-card .card-body {
        font-size: 0.70rem !important;
    }
    
    .tabla-posiciones-card .card-body {
        padding: 0 !important;
    }
    
    .tabla-posiciones {
        width: 100% !important;
        min-width: 100% !important;
        max-width: 100% !important;
        margin: 0 !important;
    }
    
    .table-responsive {
        margin: 0 !important;
        border-radius: 0 !important;
    }
    
    .tabla-simbolos li {
        font-size: 0.55rem !important;
    }
    
    .tabla-posiciones th,
    .tabla-posiciones td {
        font-size: 0.65rem !important;
    }
  .tabla-posiciones td {
    padding-top: 0.01rem !important;
    padding-bottom: 0.01rem !important;
  }
}

/* Centrar todos los td y th excepto la columna Equipo */
.tabla-posiciones th:not(:nth-child(2)),
.tabla-posiciones td:not(:nth-child(2)) {
    text-align: center !important;
    vertical-align: middle !important;
}

/* Reducir altura de las filas de la tabla de posiciones */
.tabla-posiciones th,
.tabla-posiciones td {
    padding-top: 0.01rem !important;
    padding-bottom: 0.01rem !important;
    font-size: 0.80em !important;
}
</style>
    </div>
{% endblock %}
